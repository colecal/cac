---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { caseStudies } from "../../data/caseStudies";
---

<BaseLayout title="Projects" lead="A single-page archive. Expand a project to see the sanitized case study.">
  <section class="section">
    <div class="card reveal">
      <h2>Selected case studies</h2>
      <p class="muted">
        These are intentionally sanitized: no client details, no proprietary recovery mechanics.
        They focus on system design, guardrails, and measurable impact.
      </p>

      <div class="stack">
        {caseStudies.map((cs) => (
          <details class="details">
            <summary>
              <span class="details-title"><strong>{cs.title}</strong></span>
              <span class="details-chevron" aria-hidden="true"></span>
            </summary>
            <div class="details-body">
              <p class="lead" style="margin-top: 0.5rem;">{cs.tldr}</p>

              {cs.impact && (
                <div>
                  <h3>Impact</h3>
                  <ul>
                    {cs.impact.map((x) => (
                      <li>{x}</li>
                    ))}
                  </ul>
                </div>
              )}

              {cs.sections.map((s) => (
                <div>
                  <h3>{s.heading}</h3>
                  <ul>
                    {s.bullets.map((b) => (
                      <li>{b}</li>
                    ))}
                  </ul>
                </div>
              ))}

              {cs.notes && <p class="muted"><em>{cs.notes}</em></p>}
            </div>
          </details>
        ))}
      </div>
    </div>
  </section>
</BaseLayout>
